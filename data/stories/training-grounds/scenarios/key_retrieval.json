{
  "scenario_id": "key_retrieval",
  "name": "Key Retrieval",
  "story_beat": "act_3_solution",
  "sequence_order": 1,
  "type": "breakthrough_moment",
  "description": "Player applies their discovery to retrieve the hidden key and achieve the breakthrough",
  "setup": {
    "player_state": "ready_to_solve_puzzle",
    "environment": "hidden_compartment_accessible",
    "immediate_challenge": "retrieving_key_safely"
  },
  "objectives": {
    "primary": "Player successfully retrieves the hidden key",
    "secondary": ["Demonstrate learned skills", "Show confidence in approach", "Understand the solution logic"]
  },
  "success_criteria": {
    "required_actions": ["access_hidden_compartment", "retrieve_key"],
    "success_indicators": ["confident_approach", "logical_method", "careful_handling"],
    "completion_trigger": "player_has_key_in_inventory"
  },
  "failure_conditions": {
    "death_triggers": ["panic", "desperate", "destructive_actions"],
    "wrong_approach": ["forcing_compartment", "ignoring_previous_learning"],
    "timeout": "final_moment_hesitation"
  },
  "available_actions": [
    {
      "action": "rotate torch",
      "description": "Turn the northern torch sconce carefully",
      "success_outcome": "Hidden compartment opens, revealing the key",
      "failure_outcome": null
    },
    {
      "action": "reach into compartment",
      "description": "Carefully retrieve the key from the hidden space",
      "success_outcome": "Player obtains the small iron key",
      "failure_outcome": null
    },
    {
      "action": "examine key",
      "description": "Study the retrieved key",
      "success_outcome": "Player confirms it matches the door's keyhole",
      "failure_outcome": null
    },
    {
      "action": "panic",
      "description": "Lose composure at the crucial moment",
      "success_outcome": null,
      "failure_outcome": "Death from panic - player makes fatal mistake"
    }
  ],
  "breakthrough_elements": {
    "revelation_moment": "compartment_opens_revealing_key",
    "mastery_demonstration": "confident_precise_actions",
    "learning_validation": "understanding_why_method_worked",
    "emotional_payoff": "satisfaction_of_logical_success"
  },
  "narrative_elements": {
    "atmosphere": "triumphant_discovery",
    "tension_level": "high_to_low_transition",
    "pacing": "careful_then_accelerating",
    "key_moments": ["compartment_opening", "key_revealed", "successful_retrieval"]
  },
  "ai_guidance": {
    "prompt_emphasis": "Celebrate the logical breakthrough, validate the learning process",
    "character_behavior": {
      "echo": "Proud encouragement, acknowledges player's growth"
    },
    "environmental_responses": "Chamber seems to approve of the solution"
  },
  "progression": {
    "next_scenario": "door_unlocking",
    "completion_requirements": ["key_retrieved", "method_understood"],
    "skip_conditions": ["player_already_has_key_from_alternative_path"]
  }
}